---
title: 104.Maximum_Depth_of_Binary_Tree
date: 2025-07-01
category: 'leetcode'
---

[104. Maximum Depth of Binary Tree](https://leetcode.cn/problems/maximum-depth-of-binary-tree/)

```py
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def maxDepth(self, root: Optional[TreeNode]) -> int:
        ans = 0
        if not root: return 0
        def dfs(root, d):
            nonlocal ans
            if not root:
                ans = max(ans, d)
                return
            d += 1
            dfs(root.left, d)
            dfs(root.right, d)
        dfs(root, 0)
        return ans

```

Notice that there is `nonlocal ans` inside dfs function. If not UnboundLocalError will be raise.

Why `ans.append` will not cause this, because it is no re-assignment.

时空复杂度都是O(n)

Time: 每个节点都便遍历一次

Space: 最坏情况下是O(n) 树类似链表
